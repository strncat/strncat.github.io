<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Barycentric Coordinates</title>
  <link rel="stylesheet" href="/assets/css/nemo-theme.css">
  <!-- MathJax if you want math -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <div class="container">
    <nav class="sidebar">
      <!-- You can generate links here manually, or use site.pages or a _data file -->
      <h2>Contents</h2>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/about/">About</a></li>
        <li><a href="/jekyll/update/2024/07/11/linear-algebra.html">Linear Algebra</a></li>
        <li><a href="/jekyll/update/2024/12/05/abstract-algebra.html">Abstract Algebra</a></li>
        <li><a href="/jekyll/update/2025/01/03/number-theory.html">Number Theory</a></li>
        <li><a href="/jekyll/update/2024/07/09/realanalysis.html">Real Analysis</a></li>
        <!-- Add more links as needed -->
      </ul>
    </nav>
    <main class="content">
		<header class="content-header">
		        nemo's notebook
		      </header>
      <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Barycentric Coordinates</h1>
    <!--
    <p class="post-meta">
      <time class="dt-published" datetime="2023-10-05T01:01:36-07:00" itemprop="datePublished">Oct 5, 2023
      </time></p>
     -->
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!------------------------------------------------------------------------------------>
<h4><b>Note</b></h4>
<p>These are my rough notes based on attending CS148. They might contain errors so proceed with caution!
<br />
<br />
<!------------------------------------------------------------------------------------></p>
<h4><b>Overview</b></h4>
<p>The barycentric coordinates are heavily used to graphics. We typically work with triangles and so when we’re about to color a pixel we interpolate the values in the three vertices of the triangle to come up with the right color for the pixel. This applies to many other information stored at the vertices like reflectivity, transparency and so on. To define barycentric coordinates, we ‘ll start by studying the parametrized function form of a line segment next.
<br />
<br />
<!------------------------------------------------------------------------------------></p>
<h4><b>Parametrized Functions for Line Segments</b></h4>
<p>How do we interpolate between two points on a line segment? use the parametric form.
Suppose we have two points \((x_1,y_1), (x_2,y_2)\)</p>
<div>
$$
\begin{align*}
y(x) &amp;= \frac{y_2-y_1}{x_2-x_1} (x - x_1) + y_1 \\
y(x) &amp;= (1 - \frac{x-x_1}{x_2-x_1})y_1 + (\frac{x-x_1}{x_2-x_1})y_2.
\end{align*}
$$
</div>
<p>So now let \(t=\frac{x-x_1}{x_2-x_1}\)</p>
<div>
$$
\begin{align*}
y(t) = (1-t)y_1 + ty_2. 
\end{align*}
$$
</div>
<p>This \(t\) ranges from 0 to 1 and can be seen as the fraction of the way from \(x_1\) to \(x_2\).
<br />
<br />
<!------------------------------------------------------------------------------------></p>
<h4><b>Barycentric Weights for Line Segments</b></h4>
<p style="text-align:center;"><img src="http://localhost:4000/assets/graphics/triangles/02-segment-barycentric.png" width="50%" class="center" /></p>
<p>So that’s fine but really, we don’t care about the length among the axis. We care about the length along the segment itself. So instead of the parameter or the fraction being a fraction of the length along the x-axis, we want that to be a fraction of the length travel along the segment.
So suppose we have two points \(p_0\) and \(p_1\), for</p>
<div>
$$
\begin{align*}
y(t) = (1-t)p_0 + tp_1. 
\end{align*}
$$
</div>
<p>We want \(t\) to be \(\frac{\left\lVert p-p_0 \right\rVert_2 }{\left\lVert p_1 - p_0 \right\rVert_2}\). which is the fraction of the distance from \(p_0\) to \(p_1\). Instead of \(t\) though, we want to reformulate this to use \(\alpha_0\) and \(\alpha_1\). \(t\) is \(\alpha_1\) and \(\alpha_0\) is \((1-t)\). \(\alpha_0\) and \(\alpha_1\) are the <b>barycentric weights</b> and we can now write,</p>
<div>
$$
\begin{align*}
p = \alpha_0 p_0 + \alpha_1 p_1.
\end{align*}
$$
</div>
<p>with weights \(\alpha_0, \alpha_1 \in [0,1]\) 
and</p>
<div>
$$
\begin{align*}
\alpha_0 &amp;+ \alpha_1 = 1\\ 
\alpha_0 &amp;= \frac{\left\lVert p-p_0 \right\rVert_2 }{\left\lVert p_1 - p_0 \right\rVert_2}\\
\alpha_1 &amp;= \frac{\left\lVert p-p_1 \right\rVert_2 }{\left\lVert p_1 - p_0 \right\rVert_2}.
\end{align*}
$$
</div>
<p>so again the alphas are the barycentric weights. and this whole process is called the barycentric interpolation.
Note where \(\alpha_0\) and \(\alpha_1\) are on the line. We did as a convention. We could switch if we need to but it will make the next topic easier this way.
<br />
<br />
<!------------------------------------------------------------------------------------></p>
<h4><b>Barycentric Weights for Triangles (1st Approach: Geometric)</b></h4>
<p style="text-align:center;"><img src="http://localhost:4000/assets/graphics/triangles/03-triangle-barycentric.png" width="50%" class="center" /></p>
<p>So for triangles we will express a point \(p\) as \(p =  \alpha_0 p_0 + \alpha_1 p_1 + \alpha_2p_2\) with barycentric weights \(\alpha_0, \alpha_1, \alpha_2 \in [0,1]\) and \(\alpha_0 + \alpha_1 + \alpha_2 = 1\)
We can compute the weights via the areas such as:</p>
<div>
$$
\begin{align*}
\alpha_0 &amp;= \frac{ Area(p, p_1, p_2) }{p_0, p_1, p_2} \\
\alpha_1 &amp;= \frac{ Area(p, p_0, p_2) }{p_0, p_1, p_2} \\
\alpha_2 &amp;= \frac{ Area(p, p_0, p_1) }{p_0, p_1, p_2}.
\end{align*}
$$
</div>
<p>So \(\alpha_0\) for example is made by the area that doesn’t involve the vertex \(p_0\) divided by the whole area of the triangle (\(p_0, p_1, p_2\)) which can be computed by</p>
<div>
$$
\begin{align*}
Area(p_0, p_1, p_2) &amp;= \frac{1}{2} \left\lVert p_0p_1 \times p_0p_2 \right\rVert_2
\end{align*}
$$
</div>
<p>So using the cross product, we can compute all these areas to derive the barycentric coordinates.
<br />
<br />
<!------------------------------------------------------------------------------------></p>
<h4><b>Barycentric Weights for Triangles (2nd Approach: Algebraic)</b></h4>
<p>TODO</p>

<p><br />
<br />
<!------------------------------------------------------------------------------------></p>
<h4><b>Barycentric Weights for Triangles (3rd Approach)</b></h4>
<p>Compute the vectors \(u = p_0 - p_2\) and \(v = p_1 - p_2\). Any point \(p\) in the triangle can be written as</p>
<div>
$$
\begin{align*}
p = p_2 + \beta_1 u + \beta_2 v.
\end{align*}
$$
</div>
<p>with \(\beta_1, \beta_2 \in [0,1]\) and \(\beta_1 + \beta_2 \leq 1\). Substitue back \(u\) and \(v\) to see that,</p>
<div>
$$
\begin{align*}
p = \beta_1 p_0 + \beta_2 p_2 + (1 - \beta_1 - \beta_2)p_2.
\end{align*}
$$
</div>
<p>where \(\alpha_0 = \beta_1\), \(alpha_1 = \beta_2\) and \(\alpha_2 = 1 - \beta_1 - \beta_2\).
<br />
<br />
<!------------------------------------------------------------------------------------></p>
<h4><b>Find the color and z' value at a pixel</b></h4>
<p>To see an example, let’s say we want to find the \(z'\) of a pixel. we know the \(z'\) value for each vertex of the triangle. What do we do now? We just figure out the barycenteric weights and multiply the weights by the \(z'\) values of each vertex of the triangle in,</p>
<div>
$$
\begin{align*}
z' =  \alpha_0 z_0' + \alpha_1 z_1' + \alpha_2z_2'
\end{align*}
$$
</div>
<p>Similarly we can interpolate the color of the pixel. Multiply the color of the vertices by their the barycentric weight to find the exact color of the pixel.
<br />
<br />
<!------------------------------------------------------------------------------------></p>
<h4><b>References</b></h4>
<p><a href="https://web.stanford.edu/class/cs148/lectures.html"> CS148 Lectures </a>
<br />
<br /></p>


  </div>
<!-- stupid ads<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = /jekyll/update/2023/10/05/barycentric-coordinates.html;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier =  /jekyll/update/2023/10/05/barycentric-coordinates; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://strncat-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
-->
  <a class="u-url" href="/jekyll/update/2023/10/05/barycentric-coordinates.html" hidden></a>
</article>

    </main>
  </div>

</body>
</html>