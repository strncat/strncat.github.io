<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Project Euler: 38 Pandigital Multiples</title>
  <link rel="stylesheet" href="/assets/css/nemo-theme.css">
  <!-- MathJax if you want math -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <div class="container">
    <nav class="sidebar">
      <!-- You can generate links here manually, or use site.pages or a _data file -->
      <h2>Contents</h2>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/about/">About</a></li>
        <li><a href="/jekyll/update/2024/07/11/linear-algebra.html">Linear Algebra</a></li>
        <li><a href="/jekyll/update/2024/12/05/abstract-algebra.html">Abstract Algebra</a></li>
        <li><a href="/jekyll/update/2025/01/03/number-theory.html">Number Theory</a></li>
        <li><a href="/jekyll/update/2024/07/09/realanalysis.html">Real Analysis</a></li>
        <!-- Add more links as needed -->
      </ul>
    </nav>
    <main class="content">
		<header class="content-header">
		        nemo's notebook
		      </header>
      <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Project Euler: 38 Pandigital Multiples</h1>
    <!--
    <p class="post-meta">
      <time class="dt-published" datetime="2024-12-28T00:01:36-08:00" itemprop="datePublished">Dec 28, 2024
      </time></p>
     -->
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>A 1 to 9 pandigital number (which also appeared in problem 32) is a number where the digits \(1\) to \(9\) appear exactly once. In this problem consider the following products</p>
<div>
$$
\begin{align*}
9 \times 1 &amp;= 9 \\
9 \times 2 &amp;= 18 \\
9 \times 3 &amp;= 27 \\
9 \times 4 &amp;= 36 \\
9 \times 5 &amp;= 45 \\
\end{align*}
$$
</div>
<!------------------------------------------------------------------------------------>
<p>Concatenating all the products, we get \(918273645\). This product is \(1\) to \(9\) pandigital by definition. The goal of this problem is to find the largest \(1\) to \(9\) pandigital product formed by concatenating the products of an integer \(k\) with \((1,2,3,4,...n)\) where \(n &gt; 1\). In the above example, \(k = 9\) and \(n = 5\).
<br />
<br />
Suppose now that we’re given an integer \(k\) with \(d\) digits. Observe that if \(d = 1\), then in order to have 9 digits total in the final string produced by concatenating the products of \(k\) with \((1,2,...,n)\), we need at most 9 products total so \(n \leq 9\). Moreover, if \(d = 2\), then \(n\) can at most be 4, since each product will contain a minimum of two digits. Adding a fifth product means that we will exceed 9 digits which makes the entire thing not pandigital. For \(d = 3\), then we’ll only need 3 products. In all cases, we can see that we at most need 9 products total. Based on this, I implemented this in the most naive way where given an integer \(k\), I will multiply \(k\) by the range \((1,...,9)\) but exiting at any point where we either see a digit repeating twice (not pandigital) or if we reached the pandigital state.
<!------------------------------------------------------------------------------------></p>

<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="kt">bool</span> <span class="nf">is_pandigital</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">digits</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
    <span class="c1">// In each iteration, we will multiply k by a value from the range (1,...,n).</span>
    <span class="c1">// Since we only have 9 digits, we won't ever need more than 9 products.</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">;</span> <span class="n">n</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">product</span> <span class="o">=</span> <span class="n">k</span> <span class="o">*</span> <span class="n">n</span><span class="p">;</span>
        <span class="c1">// (1) count the digits of this product and exit any time we see a repeated digit</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">product</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">remainder</span> <span class="o">=</span> <span class="n">product</span> <span class="o">%</span> <span class="mi">10</span><span class="p">;</span>
            <span class="n">digits</span><span class="p">[</span><span class="n">remainder</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
            <span class="n">product</span> <span class="o">/=</span> <span class="mi">10</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">digits</span><span class="p">[</span><span class="n">remainder</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">// no need to test further since we have a repeated digit</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="c1">// (2) before checking the next product, check if we reached the pandigital state</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">&amp;&amp;</span> <span class="n">digits</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">10</span> <span class="o">&amp;&amp;</span> <span class="n">digits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">true</span><span class="p">;</span> <span class="c1">// we are a pandigital number, let's exit</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">// we failed but we should not reach this state with the above checks</span>
<span class="p">}</span></code></pre></figure>

<!------------------------------------------------------------------------------------>
<p>How many integers do we need to test? First of all, observe that \(k\) can’t have more than 4 digits. With 5 digits, we’ll never get a pandigital product since with one product, we’ll get 5 digits but with two we’ll get 10 digits. So we can just test up to 9999. Second of all, observe that \(k\) must start with a 9 since we’re searching for the largest pandigital product. So we can search starting from 9999 and exit as soon as we see a pandigital product!</p>

<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">9999</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">is_pandigital</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">max</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">max</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="n">temp</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// count the digits in max</span>
    <span class="n">count</span><span class="o">++</span><span class="p">;</span>
    <span class="n">temp</span> <span class="o">/=</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"largest pandigital number is "</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">9</span><span class="o">/</span><span class="n">count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">max</span><span class="o">*</span><span class="n">i</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span></code></pre></figure>

<!------------------------------------------------------------------------------------>
<p>This runs in 0.000032 seconds on my M1 mac.
<br />
<br />
<!------------------------------------------------------------------------------------></p>
<h4><b>References</b></h4>
<p><a href="https://projecteuler.net/problem=32">Project Euler - 32</a>
<br />
<br /></p>


  </div>
<!-- stupid ads<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = /jekyll/update/2024/12/28/project-euler-38-pandigital-multiples.html;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier =  /jekyll/update/2024/12/28/project-euler-38-pandigital-multiples; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://strncat-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
-->
  <a class="u-url" href="/jekyll/update/2024/12/28/project-euler-38-pandigital-multiples.html" hidden></a>
</article>

    </main>
  </div>

</body>
</html>